{"version":3,"sources":["containers/Register/Register.js"],"names":["Register","props","handleUsernameChange","event","setState","username","target","value","handlePasswordChange","password","handleSubmit","preventDefault","data","state","axios","post","then","response","localStorage","setItem","token","redirect","console","log","catch","error","this","to","getItem","className","style","textAlign","width","margin","onSubmit","type","placeholder","onChange","Component"],"mappings":"iMAIMA,E,YACJ,WAAYC,GAAQ,IAAD,8BACjB,4CAAMA,KASRC,qBAAuB,SAAAC,GACrB,EAAKC,SAAS,CACZC,SAAUF,EAAMG,OAAOC,SAZR,EAgBnBC,qBAAuB,SAAAL,GACrB,EAAKC,SAAS,CACZK,SAAUN,EAAMG,OAAOC,SAlBR,EAsBnBG,aAAe,SAAAP,GACbA,EAAMQ,iBACN,IAAMC,EAAO,CACXP,SAAU,EAAKQ,MAAMR,SACrBI,SAAU,EAAKI,MAAMJ,UAEvBK,IACGC,KAAK,mDAAoDH,GACzDI,KAAK,SAAAC,GACAA,EAASL,MACXM,aAAaC,QAAQ,QAASF,EAASL,KAAKQ,OAC5C,EAAKhB,SAAS,CAAEiB,UAAU,KAE1BC,QAAQC,IAAI,oBAGfC,MAAM,SAAAC,GACLH,QAAQC,IAAIE,EAAMR,aApCtB,EAAKJ,MAAQ,CACXR,SAAU,GACVI,SAAU,GACVY,UAAU,GANK,E,sEA4CjB,OAAIK,KAAKb,MAAMQ,SACN,kBAAC,IAAD,CAAUM,GAAI,iBAGnBT,aAAaU,QAAQ,SAChB,kBAAC,IAAD,CAAUD,GAAI,iBAIrB,yBAAKE,UAAU,aACb,wBAAIC,MAAO,CAAEC,UAAW,WAAxB,YACA,yBAAKD,MAAO,CAAEE,MAAO,MAAOC,OAAQ,cAClC,0BAAMC,SAAUR,KAAKhB,cACnB,yBAAKmB,UAAU,cACb,2BACEA,UAAU,eACVM,KAAK,OACLC,YAAY,WACZ7B,MAAOmB,KAAKb,MAAMR,SAClBgC,SAAUX,KAAKxB,wBAGnB,yBAAK2B,UAAU,cACb,2BACEA,UAAU,eACVM,KAAK,WACLC,YAAY,WACZ7B,MAAOmB,KAAKb,MAAMJ,SAClB4B,SAAUX,KAAKlB,wBAGnB,4BAAQqB,UAAU,kBAAkBM,KAAK,UAAzC,iB,GA5EWG,aAsFRtC","file":"static/js/6.fe1c168d.chunk.js","sourcesContent":["import React, { Component } from 'react';\nimport { Redirect } from 'react-router-dom';\nimport axios from 'axios';\n\nclass Register extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      username: '',\n      password: '',\n      redirect: false,\n    };\n  }\n\n  handleUsernameChange = event => {\n    this.setState({\n      username: event.target.value,\n    });\n  };\n\n  handlePasswordChange = event => {\n    this.setState({\n      password: event.target.value,\n    });\n  };\n\n  handleSubmit = event => {\n    event.preventDefault();\n    const data = {\n      username: this.state.username,\n      password: this.state.password,\n    };\n    axios\n      .post('https://yelpcamp-node-api.herokuapp.com/register', data)\n      .then(response => {\n        if (response.data) {\n          localStorage.setItem('token', response.data.token);\n          this.setState({ redirect: true });\n        } else {\n          console.log('Register Error');\n        }\n      })\n      .catch(error => {\n        console.log(error.response);\n      });\n  };\n\n  render() {\n    if (this.state.redirect) {\n      return <Redirect to={'/campgrounds'} />;\n    }\n\n    if (localStorage.getItem('token')) {\n      return <Redirect to={'/campgrounds'} />;\n    }\n\n    return (\n      <div className=\"container\">\n        <h1 style={{ textAlign: 'center' }}>Register</h1>\n        <div style={{ width: '60%', margin: '25px auto' }}>\n          <form onSubmit={this.handleSubmit}>\n            <div className=\"form-group\">\n              <input\n                className=\"form-control\"\n                type=\"text\"\n                placeholder=\"username\"\n                value={this.state.username}\n                onChange={this.handleUsernameChange}\n              />\n            </div>\n            <div className=\"form-group\">\n              <input\n                className=\"form-control\"\n                type=\"password\"\n                placeholder=\"password\"\n                value={this.state.password}\n                onChange={this.handlePasswordChange}\n              />\n            </div>\n            <button className=\"btn btn-primary\" type=\"submit\">\n              Submit\n            </button>\n          </form>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default Register;\n"],"sourceRoot":""}