(window.webpackJsonpyelcamp=window.webpackJsonpyelcamp||[]).push([[4],{65:function(e,t,a){"use strict";a.r(t);var n=a(9),r=a(10),s=a(12),o=a(11),c=a(13),l=a(0),m=a.n(l),i=a(7),u=a(15),p=a.n(u),d=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(s.a)(this,Object(o.a)(t).call(this,e))).handleUsernameChange=function(e){a.setState({username:e.target.value})},a.handlePasswordChange=function(e){a.setState({password:e.target.value})},a.handleSubmit=function(e){e.preventDefault();var t={username:a.state.username,password:a.state.password};p.a.post("https://yelpcamp-node-api.herokuapp.com/login",t).then(function(e){console.log(e),e.data?(localStorage.setItem("token",e.data.token),localStorage.setItem("user",JSON.stringify(e.data.user)),a.setState({redirect:!0})):console.log("Login Error")}).catch(function(e){console.log(e.response)})},a.state={username:"",password:"",redirect:!1},a}return Object(c.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){return this.state.redirect?m.a.createElement(i.a,{to:"/campgrounds"}):localStorage.getItem("token")?m.a.createElement(i.a,{to:"/campgrounds"}):m.a.createElement("div",{className:"container"},m.a.createElement("h1",{style:{textAlign:"center"}},"Login"),m.a.createElement("div",{style:{width:"30%",margin:"25px auto"}},m.a.createElement("form",{onSubmit:this.handleSubmit},m.a.createElement("div",{className:"form-group"},m.a.createElement("input",{className:"form-control",type:"text",placeholder:"username",value:this.state.username,onChange:this.handleUsernameChange})),m.a.createElement("div",{className:"form-group"},m.a.createElement("input",{className:"form-control",type:"password",placeholder:"password",value:this.state.password,onChange:this.handlePasswordChange})),m.a.createElement("button",{className:"btn btn-primary",type:"submit"},"Submit"))))}}]),t}(l.Component);t.default=d}}]);
//# sourceMappingURL=4.c1b12d96.chunk.js.map