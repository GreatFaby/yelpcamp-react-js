{"version":3,"sources":["containers/NewCampgrounds/New.js"],"names":["newCampground","props","handleNameChange","event","setState","name","target","value","handlePriceChange","price","handleImageChange","image","handleDescriptionChange","description","handleSubmit","preventDefault","data","state","token","localStorage","getItem","console","log","axios","post","headers","Authorization","then","response","redirect","catch","error","this","to","className","style","textAlign","width","margin","onSubmit","type","placeholder","onChange","Component"],"mappings":"iMAIMA,E,YACJ,WAAYC,GAAQ,IAAD,8BACjB,4CAAMA,KAWRC,iBAAmB,SAAAC,GACjB,EAAKC,SAAS,CACZC,KAAMF,EAAMG,OAAOC,SAdJ,EAkBnBC,kBAAoB,SAAAL,GAClB,EAAKC,SAAS,CACZK,MAAON,EAAMG,OAAOC,SApBL,EAwBnBG,kBAAoB,SAAAP,GAClB,EAAKC,SAAS,CACZO,MAAOR,EAAMG,OAAOC,SA1BL,EA8BnBK,wBAA0B,SAAAT,GACxB,EAAKC,SAAS,CACZS,YAAaV,EAAMG,OAAOC,SAhCX,EAoCnBO,aAAe,SAAAX,GACbA,EAAMY,iBACN,IAAMC,EAAO,CACXX,KAAM,EAAKY,MAAMZ,KACjBI,MAAO,EAAKQ,MAAMR,MAClBE,MAAO,EAAKM,MAAMN,MAClBE,YAAa,EAAKI,MAAMJ,aAEpBK,EAAQC,aAAaC,QAAQ,SACnCC,QAAQC,IAAIJ,GACZK,IACGC,KAAK,sDAAuDR,EAAM,CACjES,QAAS,CACPC,cAAc,UAAD,OAAYR,MAG5BS,KAAK,SAAAC,GACJ,EAAKxB,SAAS,CAAEyB,UAAU,IAC1BR,QAAQC,IAAIM,EAASZ,QAEtBc,MAAM,SAAAC,GACLV,QAAQC,IAAIS,EAAMH,aAtDtB,EAAKX,MAAQ,CACXZ,KAAM,GACNI,MAAO,GACPE,MAAO,GACPE,YAAa,GACbgB,UAAU,GARK,E,sEA8DjB,OAAIG,KAAKf,MAAMY,SACN,kBAAC,IAAD,CAAUI,GAAI,iBAGlBd,aAAaC,QAAQ,SAKxB,yBAAKc,UAAU,aACb,wBAAIC,MAAO,CAAEC,UAAW,WAAxB,2BACA,yBAAKD,MAAO,CAAEE,MAAO,MAAOC,OAAQ,cAClC,0BAAMC,SAAUP,KAAKlB,cACnB,yBAAKoB,UAAU,cACb,2BACEA,UAAU,eACVM,KAAK,OACLC,YAAY,OACZlC,MAAOyB,KAAKf,MAAMZ,KAClBqC,SAAUV,KAAK9B,oBAGnB,yBAAKgC,UAAU,cACb,2BACEA,UAAU,eACVM,KAAK,OACLC,YAAY,QACZlC,MAAOyB,KAAKf,MAAMR,MAClBiC,SAAUV,KAAKxB,qBAGnB,yBAAK0B,UAAU,cACb,2BACEA,UAAU,eACVM,KAAK,OACLC,YAAY,QACZlC,MAAOyB,KAAKf,MAAMN,MAClB+B,SAAUV,KAAKtB,qBAGnB,yBAAKwB,UAAU,cACb,2BACEA,UAAU,eACVM,KAAK,OACLC,YAAY,cACZlC,MAAOyB,KAAKf,MAAMJ,YAClB6B,SAAUV,KAAKpB,2BAGnB,yBAAKsB,UAAU,cACb,4BACEA,UAAU,mCACVM,KAAK,UAFP,cA7CD,kBAAC,IAAD,CAAUP,GAAI,qB,GApECU,aA+Hb3C","file":"static/js/5.786e0ccf.chunk.js","sourcesContent":["import React, { Component } from 'react';\nimport { Redirect } from 'react-router-dom';\nimport axios from 'axios';\n\nclass newCampground extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      name: '',\n      price: '',\n      image: '',\n      description: '',\n      redirect: false,\n    };\n  }\n\n  handleNameChange = event => {\n    this.setState({\n      name: event.target.value,\n    });\n  };\n\n  handlePriceChange = event => {\n    this.setState({\n      price: event.target.value,\n    });\n  };\n\n  handleImageChange = event => {\n    this.setState({\n      image: event.target.value,\n    });\n  };\n\n  handleDescriptionChange = event => {\n    this.setState({\n      description: event.target.value,\n    });\n  };\n\n  handleSubmit = event => {\n    event.preventDefault();\n    const data = {\n      name: this.state.name,\n      price: this.state.price,\n      image: this.state.image,\n      description: this.state.description,\n    };\n    const token = localStorage.getItem('token');\n    console.log(token);\n    axios\n      .post('https://yelpcamp-node-api.herokuapp.com/campgrounds', data, {\n        headers: {\n          Authorization: `Bearer ${token}`,\n        },\n      })\n      .then(response => {\n        this.setState({ redirect: true });\n        console.log(response.data);\n      })\n      .catch(error => {\n        console.log(error.response);\n      });\n  };\n\n  render() {\n    if (this.state.redirect) {\n      return <Redirect to={'/campgrounds'} />;\n    }\n\n    if (!localStorage.getItem('token')) {\n      return <Redirect to={'/campgrounds'} />;\n    }\n\n    return (\n      <div className=\"container\">\n        <h1 style={{ textAlign: 'center' }}>Create a New Campground</h1>\n        <div style={{ width: '60%', margin: '25px auto' }}>\n          <form onSubmit={this.handleSubmit}>\n            <div className=\"form-group\">\n              <input\n                className=\"form-control\"\n                type=\"text\"\n                placeholder=\"name\"\n                value={this.state.name}\n                onChange={this.handleNameChange}\n              />\n            </div>\n            <div className=\"form-group\">\n              <input\n                className=\"form-control\"\n                type=\"text\"\n                placeholder=\"price\"\n                value={this.state.price}\n                onChange={this.handlePriceChange}\n              />\n            </div>\n            <div className=\"form-group\">\n              <input\n                className=\"form-control\"\n                type=\"text\"\n                placeholder=\"image\"\n                value={this.state.image}\n                onChange={this.handleImageChange}\n              />\n            </div>\n            <div className=\"form-group\">\n              <input\n                className=\"form-control\"\n                type=\"text\"\n                placeholder=\"description\"\n                value={this.state.description}\n                onChange={this.handleDescriptionChange}\n              />\n            </div>\n            <div className=\"form-group\">\n              <button\n                className=\"btn btn-lg btn-primary btn-block\"\n                type=\"submit\"\n              >\n                Submit\n              </button>\n            </div>\n          </form>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default newCampground;\n"],"sourceRoot":""}