{"version":3,"sources":["containers/Login/Login.js"],"names":["Login","props","handleUsernameChange","event","setState","username","target","value","handlePasswordChange","password","handleSubmit","preventDefault","data","state","axios","post","then","response","console","log","localStorage","setItem","token","JSON","stringify","user","redirect","catch","error","this","to","getItem","className","style","textAlign","width","margin","onSubmit","type","placeholder","onChange","Component"],"mappings":"iMAIMA,E,YACJ,WAAYC,GAAQ,IAAD,8BACjB,4CAAMA,KASRC,qBAAuB,SAAAC,GACrB,EAAKC,SAAS,CACZC,SAAUF,EAAMG,OAAOC,SAZR,EAgBnBC,qBAAuB,SAAAL,GACrB,EAAKC,SAAS,CACZK,SAAUN,EAAMG,OAAOC,SAlBR,EAsBnBG,aAAe,SAAAP,GACbA,EAAMQ,iBACN,IAAMC,EAAO,CACXP,SAAU,EAAKQ,MAAMR,SACrBI,SAAU,EAAKI,MAAMJ,UAEvBK,IACGC,KAAK,gDAAiDH,GACtDI,KAAK,SAAAC,GACJC,QAAQC,IAAIF,GACRA,EAASL,MACXQ,aAAaC,QAAQ,QAASJ,EAASL,KAAKU,OAC5CF,aAAaC,QAAQ,OAAQE,KAAKC,UAAUP,EAASL,KAAKa,OAC1D,EAAKrB,SAAS,CAAEsB,UAAU,KAE1BR,QAAQC,IAAI,iBAGfQ,MAAM,SAAAC,GACLV,QAAQC,IAAIS,EAAMX,aAtCtB,EAAKJ,MAAQ,CACXR,SAAU,GACVI,SAAU,GACViB,UAAU,GANK,E,sEA8CjB,OAAIG,KAAKhB,MAAMa,SACN,kBAAC,IAAD,CAAUI,GAAI,iBAGnBV,aAAaW,QAAQ,SAChB,kBAAC,IAAD,CAAUD,GAAI,iBAIrB,yBAAKE,UAAU,aACb,wBAAIC,MAAO,CAAEC,UAAW,WAAxB,SACA,yBAAKD,MAAO,CAAEE,MAAO,MAAOC,OAAQ,cAClC,0BAAMC,SAAUR,KAAKnB,cACnB,yBAAKsB,UAAU,cACb,2BACEA,UAAU,eACVM,KAAK,OACLC,YAAY,WACZhC,MAAOsB,KAAKhB,MAAMR,SAClBmC,SAAUX,KAAK3B,wBAGnB,yBAAK8B,UAAU,cACb,2BACEA,UAAU,eACVM,KAAK,WACLC,YAAY,WACZhC,MAAOsB,KAAKhB,MAAMJ,SAClB+B,SAAUX,KAAKrB,wBAGnB,4BAAQwB,UAAU,kBAAkBM,KAAK,UAAzC,iB,GA9EQG,aAwFLzC","file":"static/js/4.c1b12d96.chunk.js","sourcesContent":["import React, { Component } from 'react';\nimport { Redirect } from 'react-router-dom';\nimport axios from 'axios';\n\nclass Login extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      username: '',\n      password: '',\n      redirect: false,\n    };\n  }\n\n  handleUsernameChange = event => {\n    this.setState({\n      username: event.target.value,\n    });\n  };\n\n  handlePasswordChange = event => {\n    this.setState({\n      password: event.target.value,\n    });\n  };\n\n  handleSubmit = event => {\n    event.preventDefault();\n    const data = {\n      username: this.state.username,\n      password: this.state.password,\n    };\n    axios\n      .post('https://yelpcamp-node-api.herokuapp.com/login', data)\n      .then(response => {\n        console.log(response);\n        if (response.data) {\n          localStorage.setItem('token', response.data.token);\n          localStorage.setItem('user', JSON.stringify(response.data.user));\n          this.setState({ redirect: true });\n        } else {\n          console.log('Login Error');\n        }\n      })\n      .catch(error => {\n        console.log(error.response);\n      });\n  };\n\n  render() {\n    if (this.state.redirect) {\n      return <Redirect to={'/campgrounds'} />;\n    }\n\n    if (localStorage.getItem('token')) {\n      return <Redirect to={'/campgrounds'} />;\n    }\n\n    return (\n      <div className=\"container\">\n        <h1 style={{ textAlign: 'center' }}>Login</h1>\n        <div style={{ width: '30%', margin: '25px auto' }}>\n          <form onSubmit={this.handleSubmit}>\n            <div className=\"form-group\">\n              <input\n                className=\"form-control\"\n                type=\"text\"\n                placeholder=\"username\"\n                value={this.state.username}\n                onChange={this.handleUsernameChange}\n              />\n            </div>\n            <div className=\"form-group\">\n              <input\n                className=\"form-control\"\n                type=\"password\"\n                placeholder=\"password\"\n                value={this.state.password}\n                onChange={this.handlePasswordChange}\n              />\n            </div>\n            <button className=\"btn btn-primary\" type=\"submit\">\n              Submit\n            </button>\n          </form>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default Login;\n"],"sourceRoot":""}