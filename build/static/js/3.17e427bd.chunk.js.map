{"version":3,"sources":["components/Campgrounds/Show/Table/Table.js","components/Campgrounds/Show/Show.js"],"names":["Table","props","delete","bind","state","redirect","token","localStorage","getItem","axios","this","obj","_id","headers","Authorization","then","response","setState","catch","err","console","log","to","className","name","style","width","alt","src","image","price","description","userId","owner","marginRight","onClick","Component","Show","campground","user","authUser","JSON","parse","get","match","params","id","data","error","key","tabRow"],"mappings":"+MAuFeA,E,YAjFb,WAAYC,GAAQ,IAAD,8BACjB,4CAAMA,KACDC,OAAS,EAAKA,OAAOC,KAAZ,gBAEd,EAAKC,MAAQ,CACXC,UAAU,GALK,E,sEAQT,IAAD,OACDC,EAAQC,aAAaC,QAAQ,SAEnCC,IACGP,OACC,uDACEQ,KAAKT,MAAMU,IAAIC,IACjB,CACEC,QAAS,CACPC,cAAc,UAAD,OAAYR,MAI9BS,KAAK,SAAAC,GACJ,EAAKC,SAAS,CAAEZ,UAAU,MAG3Ba,MAAM,SAAAC,GAAG,OAAIC,QAAQC,IAAIF,O,+BAI5B,OAAIT,KAAKN,MAAMC,SACN,kBAAC,IAAD,CAAUiB,GAAI,iBAIrB,6BACE,yBAAKC,UAAU,OACb,yBAAKA,UAAU,YACb,yBAAKA,UAAU,aACb,uDAA6Bb,KAAKT,MAAMU,IAAIa,KAA5C,gBACA,yBACEC,MAAO,CAAEC,MAAO,QAChBC,IAAI,GACJJ,UAAU,iBACVK,IAAKlB,KAAKT,MAAMU,IAAIkB,QAEtB,yBAAKN,UAAU,gBACb,wBAAIA,UAAU,cAAd,SAA6Bb,KAAKT,MAAMU,IAAImB,MAA5C,WACA,4BAAKpB,KAAKT,MAAMU,IAAIa,MACpB,2BAAId,KAAKT,MAAMU,IAAIoB,aAElBrB,KAAKT,MAAM+B,SAAWtB,KAAKT,MAAMU,IAAIsB,OACpC,2BACE,kBAAC,IAAD,CACER,MAAO,CAAES,YAAa,QACtBZ,GAAI,gBAAkBZ,KAAKT,MAAMU,IAAIC,IAAM,QAC3CW,UAAU,mBAHZ,QAOA,4BAAQY,QAASzB,KAAKR,OAAQqB,UAAU,kBAAxC,UAIA,kBAAC,IAAD,CACEE,MAAO,CAAES,YAAa,OACtBZ,GAAI,gBACJC,UAAU,mBAHZ,qB,GAhEAa,aCDdC,E,YACJ,WAAYpC,GAAQ,IAAD,8BACjB,4CAAMA,KAEDG,MAAQ,CACXkC,WAAY,KACZC,KAAM,IALS,E,iFASE,IAAD,OACZC,EAAWC,KAAKC,MAAMnC,aAAaC,QAAQ,SACjDE,KAAKO,SAAS,CAAEsB,KAAMC,IAEtB/B,IACGkC,IACC,uDACEjC,KAAKT,MAAM2C,MAAMC,OAAOC,IAE3B/B,KAAK,SAAAC,GACJ,EAAKC,SAAS,CAAEqB,WAAYtB,EAAS+B,SAEtC7B,MAAM,SAAS8B,GACd5B,QAAQC,IAAI2B,O,+BAIR,IAAD,EACsBtC,KAAKN,MAA1BkC,EADD,EACCA,WAAYC,EADb,EACaA,KACpB,OACED,GACE,kBAAC,EAAD,CACE3B,IAAK2B,EACLN,OAAQO,GAAQA,EAAK3B,IACrBqC,IAAKX,EAAW1B,Q,+BAOtB,OAAO,yBAAKW,UAAU,aAAab,KAAKwC,c,GAzCzBd,aA6CJC","file":"static/js/3.17e427bd.chunk.js","sourcesContent":["import React, { Component } from 'react';\nimport { Link, Redirect } from 'react-router-dom';\nimport axios from 'axios';\n// import classes from './Table.css';\n\nclass Table extends Component {\n  constructor(props) {\n    super(props);\n    this.delete = this.delete.bind(this);\n\n    this.state = {\n      redirect: false,\n    };\n  }\n  delete() {\n    const token = localStorage.getItem('token');\n\n    axios\n      .delete(\n        'https://yelpcamp-node-api.herokuapp.com/campgrounds/' +\n          this.props.obj._id,\n        {\n          headers: {\n            Authorization: `Bearer ${token}`,\n          },\n        }\n      )\n      .then(response => {\n        this.setState({ redirect: true });\n      })\n      // .then(console.log('Deleted'))\n      .catch(err => console.log(err));\n  }\n\n  render() {\n    if (this.state.redirect) {\n      return <Redirect to={'/campgrounds'} />;\n    }\n\n    return (\n      <div>\n        <div className=\"row\">\n          <div className=\"col-md-9\">\n            <div className=\"thumbnail\">\n              <h2>More information about: {this.props.obj.name} campground!</h2>\n              <img\n                style={{ width: '100%' }}\n                alt=\"\"\n                className=\"img-responsive\"\n                src={this.props.obj.image}\n              />\n              <div className=\"caption-full\">\n                <h4 className=\"pull-right\">â‚¦{this.props.obj.price} /Nigth</h4>\n                <h4>{this.props.obj.name}</h4>\n                <p>{this.props.obj.description}</p>\n\n                {this.props.userId === this.props.obj.owner && (\n                  <p>\n                    <Link\n                      style={{ marginRight: '10px' }}\n                      to={'/campgrounds/' + this.props.obj._id + '/edit'}\n                      className=\"btn btn-success\"\n                    >\n                      Edit\n                    </Link>\n                    <button onClick={this.delete} className=\"btn btn-danger\">\n                      Delete\n                    </button>\n\n                    <Link\n                      style={{ marginRight: '5px' }}\n                      to={'/campgrounds/'}\n                      className=\"btn btn-success\"\n                    >\n                      Go back\n                    </Link>\n                  </p>\n                )}\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default Table;\n","import React, { Component } from 'react';\nimport axios from 'axios';\nimport Table from './Table/Table';\n\nclass Show extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      campground: null,\n      user: '',\n    };\n  }\n\n  componentDidMount() {\n    const authUser = JSON.parse(localStorage.getItem('user'));\n    this.setState({ user: authUser });\n\n    axios\n      .get(\n        'https://yelpcamp-node-api.herokuapp.com/campgrounds/' +\n          this.props.match.params.id\n      )\n      .then(response => {\n        this.setState({ campground: response.data });\n      })\n      .catch(function(error) {\n        console.log(error);\n      });\n  }\n\n  tabRow() {\n    const { campground, user } = this.state;\n    return (\n      campground && (\n        <Table\n          obj={campground}\n          userId={user && user._id}\n          key={campground._id}\n        />\n      )\n    );\n  }\n\n  render() {\n    return <div className=\"container\">{this.tabRow()}</div>;\n  }\n}\n\nexport default Show;\n"],"sourceRoot":""}